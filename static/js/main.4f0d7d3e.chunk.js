(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{19:function(t,e,n){t.exports={label:"Filter_label__3bXkj",input:"Filter_input__VJk0N"}},20:function(t,e,n){t.exports={contactList:"ContactList_contactList__2kNuE",contactItem:"ContactList_contactItem__GojiG"}},33:function(t,e,n){t.exports={container:"Container_container__pxMnu"}},34:function(t,e,n){t.exports={btnDelete:"ContactItem_btnDelete__zGBs7"}},48:function(t,e,n){},68:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"changeFilter",(function(){return h}));var a={};n.r(a),n.d(a,"getContacts",(function(){return A})),n.d(a,"getFilter",(function(){return B})),n.d(a,"getLoading",(function(){return M})),n.d(a,"getVisibleContacts",(function(){return q})),n.d(a,"getContactsNames",(function(){return z}));var r=n(1),o=n(0),u=n.n(o),i=n(11),s=n.n(i),l=n(2),b=(n(48),n(33)),j=n.n(b);function f(t){var e=t.children;return Object(r.jsx)("div",{className:j.a.container,children:e})}var d=n(21),p=n(7),O=n.n(p),m=n(3),h=Object(m.b)("contacts/changeFilter"),v=n(8),x=n.n(v),C=n(15),g=n(10),_=n.n(g);_.a.defaults.baseURL="http://localhost:5050";var N,w,k={fetchContacts:Object(m.c)("contacts/fetchContacts",function(){var t=Object(C.a)(x.a.mark((function t(e,n){var c,a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.rejectWithValue,t.prev=1,t.next=4,_.a.get("/contacts");case 4:return a=t.sent,r=a.data,t.abrupt("return",r);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",c(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),addContact:Object(m.c)("contacts/addContact",function(){var t=Object(C.a)(x.a.mark((function t(e,n){var c,a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.rejectWithValue,t.prev=1,t.next=4,_.a.post("/contacts",e);case 4:return a=t.sent,r=a.data,t.abrupt("return",r);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",c(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),deleteContact:Object(m.c)("contacts/deleteContact",function(){var t=Object(C.a)(x.a.mark((function t(e,n){var c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.rejectWithValue,t.prev=1,t.next=4,_.a.delete("/contacts/".concat(e));case 4:return t.abrupt("return",e);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",c(t.t0));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n){return t.apply(this,arguments)}}())},y=n(4),F=n(14),L=n(6),V=k.fetchContacts,D=k.addContact,I=k.deleteContact,G=Object(m.d)([],(N={},Object(y.a)(N,V.fulfilled,(function(t,e){return e.payload})),Object(y.a)(N,D.fulfilled,(function(t,e){return[e.payload].concat(Object(F.a)(t))})),Object(y.a)(N,I.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),N)),S=Object(m.d)("",Object(y.a)({},h,(function(t,e){return e.payload}))),E=Object(m.d)(!1,(w={},Object(y.a)(w,V.pending,(function(){return!0})),Object(y.a)(w,V.fulfilled,(function(){return!1})),Object(y.a)(w,V.rejected,(function(){return!1})),Object(y.a)(w,D.pending,(function(){return!0})),Object(y.a)(w,D.fulfilled,(function(){return!1})),Object(y.a)(w,D.rejected,(function(){return!1})),Object(y.a)(w,I.pending,(function(){return!0})),Object(y.a)(w,I.fulfilled,(function(){return!1})),Object(y.a)(w,I.rejected,(function(){return!1})),w)),J=Object(L.c)({items:G,filter:S,loading:E}),W=n(12),A=function(t){return t.contacts.items},B=function(t){return t.contacts.filter},M=function(t){return t.contacts.loading},q=Object(W.a)([A,B],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),z=Object(W.a)([A],(function(t){return t.reduce((function(t,e){var n=e.name;return t.push(n.toLowerCase()),t}),[])}));function P(){var t=Object(o.useState)(""),e=Object(d.a)(t,2),n=e[0],c=e[1],u=Object(o.useState)(""),i=Object(d.a)(u,2),s=i[0],b=i[1],j=Object(l.c)(a.getContactsNames),f=Object(l.b)(),p=function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":c(a);break;case"number":b(a);break;default:return}},m=function(){c(""),b("")};return Object(r.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),j.includes(n.toLowerCase()))alert("".concat(n," is already in contacts"));else{var e={name:n,number:s};f(k.addContact(e)),m()}},className:O.a.form,children:[Object(r.jsxs)("label",{className:O.a.label,children:["Name",Object(r.jsx)("input",{type:"text",className:O.a.input,name:"name",value:n,onChange:p,autoComplete:"off"})]}),Object(r.jsxs)("label",{className:O.a.label,children:["Number",Object(r.jsx)("input",{type:"tel",className:O.a.input,name:"number",value:s,onChange:p,autoComplete:"off"})]}),Object(r.jsx)("button",{type:"submit",className:O.a.button,disabled:""===n||""===s,children:"Add contact"})]})}var R=n(19),T=n.n(R),U=function(){var t=Object(l.c)(a.getFilter),e=Object(l.b)();return Object(r.jsxs)("label",{className:T.a.label,children:["Find contacts by name",Object(r.jsx)("input",{type:"text",className:T.a.input,value:t,onChange:function(t){return e(c.changeFilter(t.target.value))},autoComplete:"off"})]})},X=n(20),Y=n.n(X),Z=n(34),H=n.n(Z),K=function(t){var e=t.name,n=t.number,c=t.id,a=Object(l.b)();return Object(r.jsxs)(r.Fragment,{children:[e,": ",n,Object(r.jsx)("button",{type:"button",className:H.a.btnDelete,onClick:function(){return a(k.deleteContact(c))},children:"Delete"})]})},Q=function(){var t=Object(l.c)(a.getVisibleContacts),e=Object(l.c)(a.getLoading),n=Object(l.b)();return Object(o.useEffect)((function(){n(k.fetchContacts())}),[n]),Object(r.jsxs)("ul",{className:Y.a.contactList,children:[0===t.length&&Object(r.jsx)("p",{children:"No contacts"}),e&&Object(r.jsx)("p",{children:"Loading contacts ..."}),t.map((function(t){var e=t.id,n=t.name,c=t.number;return Object(r.jsx)("li",{className:Y.a.contactItem,children:Object(r.jsx)(K,{name:n,number:c,id:e})},e)}))]})},$=function(){return Object(r.jsxs)(f,{children:[Object(r.jsx)("h1",{children:"Phonebook"}),Object(r.jsx)(P,{}),Object(r.jsx)("h2",{children:"Contacts"}),Object(r.jsx)(U,{}),Object(r.jsx)(Q,{})]})},tt=n(35),et=n.n(tt),nt=[].concat(Object(F.a)(Object(m.e)()),[et.a]),ct=Object(m.a)({reducer:{contacts:J},middleware:nt,devTools:!1});s.a.render(Object(r.jsx)(u.a.StrictMode,{children:Object(r.jsx)(l.a,{store:ct,children:Object(r.jsx)($,{})})}),document.getElementById("root"))},7:function(t,e,n){t.exports={form:"ContactForm_form__1sqAZ",label:"ContactForm_label__26Gb8",input:"ContactForm_input__25kCr",button:"ContactForm_button__3FYcN"}}},[[68,1,2]]]);
//# sourceMappingURL=main.4f0d7d3e.chunk.js.map
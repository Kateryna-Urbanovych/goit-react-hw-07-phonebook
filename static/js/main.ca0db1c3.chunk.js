(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{20:function(t,e,n){t.exports={label:"Filter_label__3bXkj",input:"Filter_input__VJk0N"}},21:function(t,e,n){t.exports={contactList:"ContactList_contactList__2kNuE",contactItem:"ContactList_contactItem__GojiG"}},34:function(t,e,n){t.exports={container:"Container_container__pxMnu"}},36:function(t,e,n){t.exports={btnDelete:"ContactItem_btnDelete__zGBs7"}},50:function(t,e,n){},7:function(t,e,n){t.exports={form:"ContactForm_form__1sqAZ",label:"ContactForm_label__26Gb8",input:"ContactForm_input__25kCr",button:"ContactForm_button__3FYcN"}},78:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"fetchContactRequest",(function(){return h})),n.d(c,"fetchContactSuccess",(function(){return C})),n.d(c,"fetchContactError",(function(){return x})),n.d(c,"addContactRequest",(function(){return v})),n.d(c,"addContactSuccess",(function(){return _})),n.d(c,"addContactError",(function(){return g})),n.d(c,"deleteContactRequest",(function(){return N})),n.d(c,"deleteContactSuccess",(function(){return k})),n.d(c,"deleteContactError",(function(){return w})),n.d(c,"changeFilter",(function(){return y}));var a={};n.r(a),n.d(a,"getContacts",(function(){return X})),n.d(a,"getFilter",(function(){return Y})),n.d(a,"getLoading",(function(){return Z})),n.d(a,"getVisibleContacts",(function(){return H})),n.d(a,"getContactsNames",(function(){return K}));var r=n(1),o=n(0),u=n.n(o),s=n(12),i=n.n(s),b=n(3),l=(n(50),n(34)),f=n.n(l);function j(t){var e=t.children;return Object(r.jsx)("div",{className:f.a.container,children:e})}var d=n(22),O=n(7),p=n.n(O),m=n(2),h=Object(m.b)("contacts/fetchContactRequest"),C=Object(m.b)("contacts/fetchContactSuccess"),x=Object(m.b)("contacts/fetchContactError"),v=Object(m.b)("contacts/addContactRequest"),_=Object(m.b)("contacts/addContactSuccess"),g=Object(m.b)("contacts/addContactError"),N=Object(m.b)("contacts/deleteContactRequest"),k=Object(m.b)("contacts/deleteContactSuccess"),w=Object(m.b)("contacts/deleteContactError"),y=Object(m.b)("contacts/changeFilter"),F=n(8),L=n.n(F),S=n(16),E=n(10),q=n.n(E),R=n(35),D=n.n(R);q.a.defaults.baseURL="http://localhost:5050";var I,G,J={fetchContacts:function(){return function(){var t=Object(S.a)(L.a.mark((function t(e){var n,c;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(h()),t.prev=1,t.next=4,q.a.get("/contacts");case 4:n=t.sent,c=n.data,e(C(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(x(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},addContact:function(t,e){return function(){var n=Object(S.a)(L.a.mark((function n(c){var a,r,o;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={id:D.a.generate(),name:t,number:e},c(v()),n.prev=2,n.next=5,q.a.post("/contacts",a);case 5:r=n.sent,o=r.data,c(_(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),c(g(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},deleteContact:function(t){return function(){var e=Object(S.a)(L.a.mark((function e(n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(N()),e.prev=1,e.next=4,q.a.delete("/contacts/".concat(t));case 4:n(k(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(w(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}},V=n(4),A=n(15),B=n(6),M=Object(m.c)([],(I={},Object(V.a)(I,C,(function(t,e){return e.payload})),Object(V.a)(I,_,(function(t,e){return[e.payload].concat(Object(A.a)(t))})),Object(V.a)(I,k,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),I)),z=Object(m.c)("",Object(V.a)({},y,(function(t,e){return e.payload}))),P=Object(m.c)(!1,(G={},Object(V.a)(G,h,(function(){return!0})),Object(V.a)(G,C,(function(){return!1})),Object(V.a)(G,x,(function(){return!1})),Object(V.a)(G,v,(function(){return!0})),Object(V.a)(G,_,(function(){return!1})),Object(V.a)(G,g,(function(){return!1})),Object(V.a)(G,N,(function(){return!0})),Object(V.a)(G,k,(function(){return!1})),Object(V.a)(G,w,(function(){return!1})),G)),T=Object(B.c)({items:M,filter:z,loading:P}),U=n(13),X=function(t){return t.contacts.items},Y=function(t){return t.contacts.filter},Z=function(t){return t.contacts.loading},H=Object(U.a)([X,Y],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),K=Object(U.a)([X],(function(t){return t.reduce((function(t,e){var n=e.name;return t.push(n.toLowerCase()),t}),[])}));function Q(){var t=Object(o.useState)(""),e=Object(d.a)(t,2),n=e[0],c=e[1],u=Object(o.useState)(""),s=Object(d.a)(u,2),i=s[0],l=s[1],f=Object(b.c)(a.getContactsNames),j=Object(b.b)(),O=function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":c(a);break;case"number":l(a);break;default:return}},m=function(){c(""),l("")};return Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),f.includes(n.toLowerCase())?alert("".concat(n," is already in contacts")):(j(J.addContact(n,i)),m())},className:p.a.form,children:[Object(r.jsxs)("label",{className:p.a.label,children:["Name",Object(r.jsx)("input",{type:"text",className:p.a.input,name:"name",value:n,onChange:O,autoComplete:"off"})]}),Object(r.jsxs)("label",{className:p.a.label,children:["Number",Object(r.jsx)("input",{type:"tel",className:p.a.input,name:"number",value:i,onChange:O,autoComplete:"off"})]}),Object(r.jsx)("button",{type:"submit",className:p.a.button,disabled:""===n||""===i,children:"Add contact"})]})}var W=n(20),$=n.n(W),tt=function(){var t=Object(b.c)(a.getFilter),e=Object(b.b)();return Object(r.jsxs)("label",{className:$.a.label,children:["Find contacts by name",Object(r.jsx)("input",{type:"text",className:$.a.input,value:t,onChange:function(t){return e(c.changeFilter(t.target.value))},autoComplete:"off"})]})},et=n(21),nt=n.n(et),ct=n(36),at=n.n(ct),rt=function(t){var e=t.name,n=t.number,c=t.id,a=Object(b.b)();return Object(r.jsxs)(r.Fragment,{children:[e,": ",n,Object(r.jsx)("button",{type:"button",className:at.a.btnDelete,onClick:function(){return a(J.deleteContact(c))},children:"Delete"})]})},ot=function(){var t=Object(b.c)(a.getVisibleContacts),e=Object(b.c)(a.getLoading),n=Object(b.b)();return Object(o.useEffect)((function(){return n(J.fetchContacts())}),[n]),Object(r.jsxs)("ul",{className:nt.a.contactList,children:[0===t.length&&Object(r.jsx)("p",{children:"No contacts"}),e&&Object(r.jsx)("p",{children:"Loading contacts ..."}),t.map((function(t){var e=t.id,n=t.name,c=t.number;return Object(r.jsx)("li",{className:nt.a.contactItem,children:Object(r.jsx)(rt,{name:n,number:c,id:e})},e)}))]})},ut=function(){return Object(r.jsxs)(j,{children:[Object(r.jsx)("h1",{children:"Phonebook"}),Object(r.jsx)(Q,{}),Object(r.jsx)("h2",{children:"Contacts"}),Object(r.jsx)(tt,{}),Object(r.jsx)(ot,{})]})},st=n(37),it=n.n(st),bt=[].concat(Object(A.a)(Object(m.d)()),[it.a]),lt=Object(m.a)({reducer:{contacts:T},middleware:bt,devTools:!1});i.a.render(Object(r.jsx)(u.a.StrictMode,{children:Object(r.jsx)(b.a,{store:lt,children:Object(r.jsx)(ut,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.ca0db1c3.chunk.js.map